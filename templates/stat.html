<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Statistics</title>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <style>
    body {
      padding: 30px;
    }
    .mini-window {
      max-height: 300px; 
      overflow-y: auto; 
      border: 1px solid #ccc; 
    }
  </style>
</head>

<body>

  <h1>Statistics</h1>
  <p>
    We selected <b><i>seven factors</b></i> believed to influence <b><i>lung cancer survival rates</b></i>, resulting in a total of seven datasets, all sourced from the WorldBank. The eighth dataset focuses on lung cancer survival rates by country and year. 3456 countries are included in the dataset.

    The dataFrame's attributes are indexed by country and further contextualized by the year (2000-2019). Most country-year combinations have <b><i>observations with attributes</b></i> such as poverty, forest area, health expenditure, out-of-pocket expenditure, physician density, tuberculosis incidence, and urban population percentage.
  </p>
  <ul>
    <li><b><i>c_dollar2_poverty</b></i> : Proportion of Population Pushed Below 3 dollar and 65 cents Poverty Line by - Out-of-Pocket Health Care Expenditure</li>
    <li><b><i>c_forest_area</b></i> : The Percentage of Land Area covered by Forest</li>
    <li><b><i>c_health_expenditure</b></i> : The Percentage of a Country's GDP that goes towards Health Expenditures</li>
    <li><b><i>c_out_of_pocket</b></i> : Out-of-Pocket Expenditure per Capita (Current US Dollars)</li>
    <li><b><i>c_physician</b></i> : Physicians (Per 1000 People)</li>
    <li><b><i>c_tuberculosis</b></i> : Incidence of Tuberculosis (Per 100,000 People)</li>
    <li><b><i>c_urban_pop</b></i> : The Percentage of the Total Population living in Urban Areas</li>
  </ul>

  <label for="searchCountry">Search Country:</label>
  <input type="text" id="searchCountry" placeholder="Type country...">

  <label for="searchYear">Search Year:</label>
  <input type="text" id="searchYear" placeholder="Type year...">

  <div class="mini-window">
    <table border="1">
      <tr>
        <th>Country</th>
        <th>Year</th>
        <th>C Dollar2 Poverty</th>
        <th>C Forest Area</th>
        <th>C Health Expenditure</th>
        <th>C Out of Pocket</th>
        <th>C Physician</th>
        <th>C Tuberculosis</th>
        <th>C Urban Pop</th>
      </tr>
      {% for row in X %}
        <tr class="data-row">
          <td>{{ row['country'] }}</td>
          <td>{{ row['year'] }}</td>
          <td>{{ row['c_dollar2_poverty'] }}</td>
          <td>{{ row['c_forest_area'] }}</td>
          <td>{{ row['c_health_expenditure'] }}</td>
          <td>{{ row['c_out_of_pocket'] }}</td>
          <td>{{ row['c_physician'] }}</td>
          <td>{{ row['c_tuberculosis'] }}</td>
          <td>{{ row['c_urban_pop'] }}</td>
        </tr>
      {% endfor %}
    </table>
  </div>

  <script>
    $(document).ready(function () {
      $("#searchCountry, #searchYear").on('input', function () {
        filterTable();
      });

      function filterTable() {
        var countryFilter = $("#searchCountry").val().toLowerCase();
        var yearFilter = $("#searchYear").val().toLowerCase();

        $("table tr.data-row").each(function () {
          var countryColumn = $(this).find("td:eq(0)").text().toLowerCase();
          var yearColumn = $(this).find("td:eq(1)").text().toLowerCase();

          if ((countryFilter === "" || countryColumn.includes(countryFilter)) &&
            (yearFilter === "" || yearColumn.includes(yearFilter))) {
            $(this).show();
          } else {
            $(this).hide();
          }
        });
      }
    });
  </script>
  
  <h1>Mortality</h1>

</body>

</html>
